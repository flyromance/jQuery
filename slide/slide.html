<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link type="text/css" rel="stylesheet" href="../css/vajoy-base.css"/>
    <script type="text/javascript" src="../jquery-1.11.3.js"></script>
    <style type="text/css">
        .slide{width: 480px;height: 300px;overflow: hidden;position: relative;margin: 50px auto 0px;}
        .slide-list{width: 400px;height: 300px;margin-right:80px;}
        .slide-item{width: 400px;height: 300px;position: absolute;top:300px}
        .slide-item img{width:100%;height:100%;display:block;}
        li.active{top:0px;}
        .fire-list{position: absolute; height: 300px;width: 80px;right: 0px;bottom: 0px;}
        .fire-item{width: 80px;float:left;height: 60px;opacity: 0.5;}
        .fire-item img{width: 100%;height: 100%;}
        li.curr{ opacity: 1; }
        .prev, .next{position: absolute;width: 30px;height: 30px;background-color: #ddd;right:40px;}
        .prev{top:50px;}
        .next{bottom:50px;}
    </style>
</head>
<body>
<div class="slide">
    <ul class="slide-list">
        <li class="slide-item active"><img src="../img/1.jpg"> </li>
        <li class="slide-item"><img src="../img/2.jpg"> </li>
        <li class="slide-item"><img src="../img/3.jpg"> </li>
        <li class="slide-item"><img src="../img/4.jpg"> </li>
        <li class="slide-item"><img src="../img/5.jpg"> </li>
    </ul>
    <ul class="fire-list">
        <li class="fire-item curr"><img src="../img/1.jpg"> </li>
        <li class="fire-item"><img src="../img/2.jpg"> </li>
        <li class="fire-item"><img src="../img/3.jpg"> </li>
        <li class="fire-item"><img src="../img/4.jpg"> </li>
        <li class="fire-item"><img src="../img/5.jpg"> </li>
    </ul>
    <span class="prev"></span>
    <span class="next"></span>
</div>
<script type="text/javascript">
    var cur = 0;
    var len = $('.slide-item').length;
    var autoFn = function(){
        $('.slide-item').each(function(index, item){
            var temp = $(item);
            if(temp.hasClass("active")){
                cur = index;
            }
        });
        if(cur == len -1){
            $($('.slide-item')[cur]).removeClass("active").animate({top:"-300px"},function(){
                $(this).css("top","300px");
            });
            $($('.slide-item')[0]).animate({top:'0px'}).addClass('active');

            $('.fire-item').removeClass('curr');
            $($('.fire-item')[0]).addClass("curr");
        }else{
            $($('.slide-item')[cur]).removeClass("active").animate({top:"-300px"},function(){
                $(this).css("top","300px");
            });
            $($('.slide-item')[cur+1]).animate({top:'0px'}).addClass('active');

            $('.fire-item').removeClass('curr');
            $($('.fire-item')[cur+1]).addClass("curr");
        }
    }
    var autoSlide = setInterval(autoFn, 3000)

    $('.slide').hover(function(){
        clearInterval(autoSlide);
    },function(){
        autoSlide = setInterval(autoFn, 3000)
    });

    $('.fire-item').each(function(index, item){
        // 当鼠标移入的同时，清除之前的移动；
        $(item).on('mouseover',function(e){
            var temp = $(this);
            if(index == cur){
                return;
            }
            $($('.slide-item')[cur]).stop().removeClass("active").animate({top:"-300px"},function(){
                $(this).css("top","300px");
            });
            $($('.slide-item')[index]).stop().animate({top:'0px'}).addClass('active');

            $('.fire-item').removeClass('curr');
            temp.addClass("curr");
            cur = index;
        });
    });

    $(".next").click(function(){
        if(cur == len -1){
            $($('.slide-item')[cur]).removeClass("active").animate({top:"-300px"},function(){
                $(this).css("top","300px");
            });
            $($('.slide-item')[0]).animate({top:'0px'}).addClass('active');

            $('.fire-item').removeClass('curr');
            $($('.fire-item')[0]).addClass("curr");
            cur = 0;
        }else{
            $($('.slide-item')[cur]).removeClass("active").animate({top:"-300px"},function(){
                $(this).css("top","300px");
            });
            $($('.slide-item')[cur+1]).animate({top:'0px'}).addClass('active');

            $('.fire-item').removeClass('curr');
            $($('.fire-item')[cur+1]).addClass("curr");
            cur = cur + 1;
        }
    });
    $(".prev").click(function(){
        if(cur == 0){
            $($('.slide-item')[cur]).removeClass("active").animate({top:"-300px"},function(){
                $(this).css("top","300px");
            });
            $($('.slide-item')[len-1]).animate({top:'0px'}).addClass('active');

            $('.fire-item').removeClass('curr');
            $($('.fire-item')[len-1]).addClass("curr");
            cur = len-1;
        }else{
            $($('.slide-item')[cur]).removeClass("active").animate({top:"-300px"},function(){
                $(this).css("top","300px");
            });
            $($('.slide-item')[cur-11]).animate({top:'0px'}).addClass('active');

            $('.fire-item').removeClass('curr');
            $($('.fire-item')[cur-1]).addClass("curr");
            cur = cur -1;
        }
    });

    var name = "fanlong2046";
    var age = "28";
    var o = {
        name:"fanlong",
        sayName:function(){
            console.log(this.name);
        },
        sayAge:function(){
            return function(){console.log(this.age);}
        }
    }
    o.sayName();
    o.sayAge()();
</script>
</body>
</html>